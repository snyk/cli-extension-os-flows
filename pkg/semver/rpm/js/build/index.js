var L=Object.create;var q=Object.defineProperty;var T=Object.getOwnPropertyDescriptor;var W=Object.getOwnPropertyNames;var z=Object.getPrototypeOf,I=Object.prototype.hasOwnProperty;var l=(e,r)=>()=>(r||e((r={exports:{}}).exports,r),r.exports);var C=(e,r,t,n)=>{if(r&&typeof r=="object"||typeof r=="function")for(let o of W(r))!I.call(e,o)&&o!==t&&q(e,o,{get:()=>r[o],enumerable:!(n=T(r,o))||n.enumerable});return e};var Z=(e,r,t)=>(t=e!=null?L(z(e)):{},C(r||!e||!e.__esModule?q(t,"default",{value:e,enumerable:!0}):t,e));var d=l(a=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0});a.getAlphaNumericSegments=a.isString=a.isLetter=a.isDigit=void 0;function B(e){return b(e)?!!e.match(/[0-9]/):!1}a.isDigit=B;function F(e){return b(e)?!!e.match(/[a-zA-Z]/):!1}a.isLetter=F;function b(e){return e&&typeof e=="string"}a.isString=b;function G(e){return e.match(/([a-zA-Z]+)|([0-9]+)|(~)/g)||[]}a.getAlphaNumericSegments=G});var m=l(c=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});c.equalVersions=c.parseVersion=c.RpmVersion=void 0;var $=d(),J=[".","-","+","~",":","_"],v=class{constructor(r,t,n){this._epoch=r,this._version=t||"",this._release=n||"",this._validateVersion(),this._version=t,this._release=n}get epoch(){return this._epoch}get version(){return this._version}get release(){return this._release}getAsText(){return`${this._epoch}:${this._version}${this._release?"-"+this._release:""}`}getWithoutRelease(){return`${this._epoch}:${this._version}`}_validateVersion(){if(isNaN(this._epoch))throw new Error("Epoch found in rpm version is not a number");if(this._epoch<0)throw new Error("Epoch found in rpm version is negative");if(this._version.length===0)throw new Error("No version found in version string");this._validateSymbols(this._version,"version"),this._validateSymbols(this._release,"release")}_validateSymbols(r,t){r.split("").forEach(n=>{if(!(0,$.isDigit)(n)&&!(0,$.isLetter)(n)&&!J.includes(n))throw new Error(`Found invalid character in ${t}: [${r}] ${n}`)})}};c.RpmVersion=v;function Y(e){if(typeof e>"u"||typeof e!="string"||e===null||e==="")throw new Error("Invalid version input to parse: "+JSON.stringify(e))}function k(e){Y(e);let r=e.trim(),t,n,o,i=r.indexOf(":");i===0?t=NaN:i>-1?t=Number(r.slice(0,i)):t=0;let h=r.lastIndexOf("-");return h>-1?(n=r.substring(i+1,h),o=r.substring(h+1)):(n=r.substring(i+1),o=""),new v(t,n,o)}c.parseVersion=k;function H(e,r){return e.epoch===r.epoch&&e.version===r.version&&e.release===r.release}c.equalVersions=H});var V=l(g=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0});g.compare=g.cmp=void 0;var _=d(),y=m();function K(e,r,t){switch(r){case"<":return Q(e,t);case"=":return U(e,t);case"*":return!0;default:throw new Error(`Invalid comparator: ${r}`)}}g.cmp=K;function w(e,r){return X((0,y.parseVersion)(e),(0,y.parseVersion)(r))}g.compare=w;function Q(e,r){return w(e,r)===-1}function U(e,r){return w(e,r)===0}function X(e,r){if((0,y.equalVersions)(e,r))return 0;if(e.epoch>0&&r.epoch>0){if(e.epoch>r.epoch)return 1;if(e.epoch<r.epoch)return-1}let t=A(e.version,r.version);return t!==0?t:A(e.release,r.release)}function A(e,r){if(e===r)return 0;let t=(0,_.getAlphaNumericSegments)(e),n=(0,_.getAlphaNumericSegments)(r),o=t.length>n.length?n.length:t.length;for(let i=0;i<o;i++)if(!(t[i][0]==="~"&&n[i][0]==="~")){if(t[i][0]==="~"&&n[i][0]!=="~")return-1;if(t[i][0]!=="~"&&n[i][0]==="~")return 1;if((0,_.isDigit)(t[i][0])){if(!(0,_.isDigit)(n[i][0])||(t[i]=t[i].replace(/^(?!0$)0+/,""),n[i]=n[i].replace(/^(?!0$)0+/,""),t[i].length>n[i].length))return 1;if(t[i].length<n[i].length)return-1}else if((0,_.isDigit)(n[i][0]))return-1;if(t[i]<n[i])return-1;if(t[i]>n[i])return 1}return t.length===n.length?0:t.length>o&&t[o][0]==="~"?-1:n.length>o&&n[o][0]==="~"||t.length>n.length?1:-1}});var E=l(p=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0});p.parseRange=p.RpmRange=void 0;var ee=m(),re=d(),te=/(^[<=].*|^[*]$)/,R=class{constructor(r,t){this._comparator=r||"",this._version=t}get comparator(){return this._comparator}get version(){return this._version}getAsText(){return this._version?`${this._comparator}${this._version.getAsText()}`:`${this._comparator}`}};p.RpmRange=R;function ne(e){if(!(0,re.isString)(e))throw new Error("Range string input is not a string");if(e.trim().match(te)===null)throw new Error(`Range string input does not conform to range rules: ${e}`)}function ie(e){ne(e);let r=e.trim(),t=r[0],n,o=r.substring(1);return o&&(n=(0,ee.parseVersion)(o)),new R(t,n)}p.parseRange=ie});var j=l(f=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0});f.satisfies=f.validRange=void 0;var x=E(),O=V(),se=m();function oe(e){try{return(0,x.parseRange)(e).getAsText()}catch{return null}}f.validRange=oe;function ae(e,r){if(!e||!r)throw new Error("Missing version or range inputs to compare");let t=(0,x.parseRange)(r),n=t.comparator,o=t.version?t.version.getAsText():"";if(N(e)!==N(o)){let i=(0,se.parseVersion)(e).getWithoutRelease(),h=t.version?t.version.getWithoutRelease():"";return(0,O.cmp)(i,n,h)}return(0,O.cmp)(e,n,o)}f.satisfies=ae;function N(e){return/amzn.*$/.test(e)}});var P=l(S=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0});S.validVersion=void 0;var ue=m();function ce(e){try{return(0,ue.parseVersion)(e).getAsText()}catch{return null}}S.validVersion=ce});var D=l(s=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0});s.inc=s.outside=s.ltr=s.gtr=s.minSatisfying=s.maxSatisfying=s.cmp=s.gte=s.prerelease=s.rcompare=s.compare=s.satisfies=s.validRange=s.valid=void 0;var le=V();Object.defineProperty(s,"compare",{enumerable:!0,get:function(){return le.compare}});var M=j();Object.defineProperty(s,"validRange",{enumerable:!0,get:function(){return M.validRange}});Object.defineProperty(s,"satisfies",{enumerable:!0,get:function(){return M.satisfies}});var ge=P();Object.defineProperty(s,"valid",{enumerable:!0,get:function(){return ge.validVersion}});function u(){throw new Error("Not implemented")}s.rcompare=u;s.prerelease=u;s.gte=u;s.cmp=u;s.maxSatisfying=u;s.minSatisfying=u;s.gtr=u;s.ltr=u;s.outside=u;s.inc=u});var pe=Z(D());module.exports=pe;
