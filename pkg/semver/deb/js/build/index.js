var I=Object.create;var y=Object.defineProperty;var T=Object.getOwnPropertyDescriptor;var W=Object.getOwnPropertyNames;var B=Object.getPrototypeOf,Y=Object.prototype.hasOwnProperty;var f=(e,r)=>()=>(r||e((r={exports:{}}).exports,r),r.exports);var Z=(e,r,i,s)=>{if(r&&typeof r=="object"||typeof r=="function")for(let n of W(r))!Y.call(e,n)&&n!==i&&y(e,n,{get:()=>r[n],enumerable:!(s=T(r,n))||s.enumerable});return e};var k=(e,r,i)=>(i=e!=null?I(B(e)):{},Z(r||!e||!e.__esModule?y(i,"default",{value:e,enumerable:!0}):i,e));var h=f(u=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0});u.isString=u.isLetter=u.isDigit=void 0;function z(e){return w(e)?!!e.match(/[0-9]/):!1}u.isDigit=z;function F(e){return w(e)?!!e.match(/[a-zA-Z]/):!1}u.isLetter=F;function w(e){return e&&typeof e=="string"}u.isString=w});var _=f(l=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});l.parseVersion=l.DebVersion=void 0;var O=h(),G=[".","-","+","~",":","_"],J=[".","+","~","_"],m=class{constructor(r,i,s){this._epoch=r,this._upstreamVersion=i||"",this._debianRevision=s||"",this._validateVersion()}get epoch(){return this._epoch}get upstreamVersion(){return this._upstreamVersion}get debianRevision(){return this._debianRevision}getAsText(){return`${this.epoch}:${this.upstreamVersion}${this.debianRevision?"-"+this.debianRevision:""}`}_validateVersion(){if(isNaN(this.epoch))throw new Error("Epoch found in deb version is not a number");if(this.epoch<0)throw new Error("Epoch found in deb version is negative");if(this._upstreamVersion.length===0)throw new Error("No version found in version string");this._validateSymbols(this._upstreamVersion,G,"upstream_version"),this._validateSymbols(this._debianRevision,J,"debian_revision")}_validateSymbols(r,i,s){r.split("").forEach(n=>{if(!O.isDigit(n)&&!O.isLetter(n)&&!i.includes(n))throw new Error(`Found invalid character in ${s}: [${r}] ${n}`)})}};l.DebVersion=m;function H(e){if(typeof e>"u"||typeof e!="string"||e===null||e==="")throw new Error("Invalid version input to parse: "+JSON.stringify(e))}function K(e){H(e);let r=e.trim(),i,s,n,a=r.indexOf(":");a===0?i=NaN:a>-1?i=Number(r.slice(0,a)):i=0;let R=r.lastIndexOf("-");return R>-1?(s=r.substring(a+1,R),n=r.substring(R+1)):(s=r.substring(a+1),n=""),new m(i,s,n)}l.parseVersion=K});var S=f(d=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0});d.cmp=d.compare=void 0;var c=h(),D=_();function Q(e,r,i){switch(r){case"<":return E(e,i);case"=":return A(e,i);case"<=":return A(e,i)||E(e,i);case"*":return!0;default:throw new Error(`Invalid comparator: ${r}`)}}d.cmp=Q;function V(e,r){return U(D.parseVersion(e),D.parseVersion(r))}d.compare=V;function E(e,r){return V(e,r)<0}function A(e,r){return V(e,r)===0}function U(e,r){if(e===r)return 0;if(e.epoch>r.epoch)return 1;if(e.epoch<r.epoch)return-1;let i=q(e.upstreamVersion,r.upstreamVersion);return $(i!==0?i:q(e.debianRevision,r.debianRevision))}function q(e,r){let i={iterator1:e,iterator2:r};for(;i.iterator1[0]||i.iterator2[0];){let s=X(i);if(s!==null)return s;ee(i);let n=re(i);if(n!==null)return n}return 0}function X(e){for(;e.iterator1[0]&&!c.isDigit(e.iterator1[0])||e.iterator2[0]&&!c.isDigit(e.iterator2[0]);){let r=e.iterator1[0]?N(e.iterator1[0]):0,i=e.iterator2[0]?N(e.iterator2[0]):0;if(r!==i)return r-i;e.iterator1=e.iterator1.substring(1),e.iterator2=e.iterator2.substring(1)}return null}function ee(e){for(;e.iterator1[0]&&e.iterator1[0]==="0";)e.iterator1=e.iterator1.substring(1);for(;e.iterator2[0]&&e.iterator2[0]==="0";)e.iterator2=e.iterator2.substring(1)}function re(e){let r=0;for(;e.iterator1[0]&&c.isDigit(e.iterator1[0])&&e.iterator2[0]&&c.isDigit(e.iterator2[0]);)r===0&&(r=e.iterator1[0].charCodeAt(0)-e.iterator2[0].charCodeAt(0)),e.iterator1=e.iterator1.substring(1),e.iterator2=e.iterator2.substring(1);return e.iterator1[0]&&c.isDigit(e.iterator1[0])?1:e.iterator2[0]&&c.isDigit(e.iterator2[0])?-1:r!==0?r:null}function N(e){return c.isDigit(e)?0:c.isLetter(e)?e.charCodeAt(0):e==="~"?-1:e.charCodeAt(0)+256}function $(e){return e<0?-1:e>0?1:0}});var j=f(p=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0});p.parseRange=p.DebRange=void 0;var ie=_(),te=h(),ne=/(^[<=].*|^[*]$)/,v=class{constructor(r,i){this._comparator=r||"",this._version=i}get comparator(){return this._comparator}get version(){return this._version}getAsText(){return this._version?`${this._comparator}${this._version.getAsText()}`:`${this._comparator}`}};p.DebRange=v;function se(e){if(!te.isString(e))throw new Error("Range string input is not a string");if(e.trim().match(ne)===null)throw new Error(`Range string input does not conform to range rules: ${e}`)}function oe(e){se(e);let r=e.trim(),i=r[0],s,n=1;r.startsWith("<=")&&(n=2,i="<=");let a=r.substring(n);return a&&(s=ie.parseVersion(a)),new v(i,s)}p.parseRange=oe});var L=f(g=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0});g.satisfies=g.validRange=void 0;var x=j(),ae=S();function ue(e){try{return x.parseRange(e).getAsText()}catch{return null}}g.validRange=ue;function ce(e,r){if(!e||!r)throw new Error("Missing version or range inputs to compare");let i=x.parseRange(r),s=i.comparator,n=i.version?i.version.getAsText():"";return ae.cmp(e,s,n)}g.satisfies=ce});var P=f(b=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});b.validVersion=void 0;var fe=_();function le(e){try{return fe.parseVersion(e).getAsText()}catch{return null}}b.validVersion=le});var C=f(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.inc=t.outside=t.ltr=t.gtr=t.minSatisfying=t.maxSatisfying=t.cmp=t.gte=t.prerelease=t.rcompare=t.compare=t.satisfies=t.validRange=t.valid=void 0;var de=S();Object.defineProperty(t,"compare",{enumerable:!0,get:function(){return de.compare}});var M=L();Object.defineProperty(t,"validRange",{enumerable:!0,get:function(){return M.validRange}});Object.defineProperty(t,"satisfies",{enumerable:!0,get:function(){return M.satisfies}});var pe=P();Object.defineProperty(t,"valid",{enumerable:!0,get:function(){return pe.validVersion}});function o(){throw new Error("Not implemented")}t.rcompare=o;t.prerelease=o;t.gte=o;t.cmp=o;t.maxSatisfying=o;t.minSatisfying=o;t.gtr=o;t.ltr=o;t.outside=o;t.inc=o});var ge=k(C());module.exports=ge;
